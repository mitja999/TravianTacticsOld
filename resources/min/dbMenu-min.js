var dbMenu={init:function(){var b=document.getElementsByTagName("ul");for(var a=0;a<b.length;a++){if(b[a].className.search(/\bdbMenu\b/)==-1){continue}var c=b[a];dbMenu.styleSubMenus(c);addEvent(c,"mouseover",dbMenu.hover,false);addEvent(c,"mouseout",dbMenu.hoverOff,false);if(c.className.search(/\bonMouse\b/)==-1){addEvent(c,"click",dbMenu.click,false)}addEvent(c,"click",dbMenu.nav,false)}},hover:function(c){var b=(window.event)?window.event.srcElement:(c)?c.target:null;if(b){b=dbMenu.getTarget(b,"li");if(!b){return}}else{return}b.className+=" hover";var a=(b.className.search(/\bsubMenu\b/)!=-1)?b:(b.parentSubMenu)?b.parentSubMenu:null;if(!a){return}clearTimeout(a.timeout);if(b.parentMenu.className.search(/\bonMouse\b/)!=-1){a.className+=" click"}},hoverOff:function(c){var b=(window.event)?window.event.srcElement:(c)?c.target:null;if(b){b=dbMenu.getTarget(b,"li");if(!b){return}}else{return}b.className=b.className.replace(/hover/g,"");if(b.parentMenu.className.search(/\bonMouse\b/)!=-1){var a=(b.className.search(/\bsubMenu\b/)!=-1)?b:(b.parentSubMenu)?b.parentSubMenu:null;if(!a){return}a.timeout=setTimeout(function(){a.className=a.className.replace(/click/g,"")},30)}},click:function(b){if(window.event){window.event.cancelBubble=true}if(b&&b.stopPropagation){b.stopPropagation()}var a=(window.event)?window.event.srcElement:(b)?b.target:null;if(a){a=dbMenu.getTarget(a,"li");if(!a){return}}else{return}if(a.className.search(/\bclick\b/)==-1){a.className+=" click"}else{a.className=a.className.replace(/click/g,"")}},nav:function(d){if(window.event){window.event.cancelBubble=true}if(d&&d.stopPropagation){d.stopPropagation()}var c=(window.event)?window.event.srcElement:(d)?d.target:null;if(c){c=dbMenu.getTarget(c,"li");if(!c){return}}else{return}for(var a=0;a<c.childNodes.length;a++){var b=c.childNodes[a];if(b.nodeName.toLowerCase()=="a"){window.location=b.href;break}}},getTarget:function(a,b){if(a.nodeName.toLowerCase()!=b&&a.nodeName.toLowerCase()!="body"){return dbMenu.getTarget(a.parentNode,b)}else{if(a.nodeName.toLowerCase()=="body"){return null}else{return a}}},styleSubMenus:function(c){lis=c.getElementsByTagName("li");for(var b=0;b<lis.length;b++){node=lis[b];node.parentMenu=c;if(node.getElementsByTagName("ul").length!=0){node.className+=" subMenu";sublis=node.getElementsByTagName("li");for(var a=0;a<sublis.length;a++){sublis[a].parentSubMenu=node}}}}};function addEvent(e,d,b,a){if(e.addEventListener){e.addEventListener(d,b,a);return true}else{if(e.attachEvent){var c=e.attachEvent("on"+d,b);return c}else{e["on"+d]=b}}}if(loaded){dbMenu.init()}else{addEvent(window,"load",dbMenu.init,false)};